<div data-controller="geolocation" data-latitude="<%= current_user&.profile&.latitude %>" data-longitude="<%= current_user&.profile&.longitude %>" class="container">
    <div class="row">
        <% @properties.each do |property| %>
            
                <div class="col-sm-3">
                    <ul class="relative" data-geolocation-target="property" data-latitude="<%= property.latitude %>" data-longitude="<%= property.longitude%>">
                    <i class="btn btn-light fa-regular fa-heart" id="heart" data-controller="favorites" data-action="click->favorites#favorite" data-favorited="false"></i>
                        <div class="hovereffect">
                            <%= image_tag property.default_image, class: 'h-100 w-100 img-fluid shadow-1-strong rounded mb-4' %>
                                <div class="overlay"></div>
                        </div>
                        
                        <p class="fs-6"><%= property.city %>, <%= property.state %></p>
                        <div class="row" style="margin-bottom: -10px">
                            <div class="col-auto p-2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16"><path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/></svg>
                            </div>
                            <div class="col-auto p-1">
                                <p class="inline-block" style="margin-top: 6px;"><%= property.average_rating.round(2) %></p>
                            </div>
                        </div>
                        <p data-distance-away class="fs-6 fw-lighter lh-1 pe-1"></p>
                        <p class="fs-6 fw-lighter lh-1 pe-1">Jun 19-24</p>
                        <p class="fs-6 fw-lighter lh-1 pe-1"><b><%= humanized_money_with_symbol(property.price)%></b> Per Night</p>
                    </li>
                </div>  
        <% end %>
    </div>
</div>
